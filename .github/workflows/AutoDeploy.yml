name: Auto Deploy

on: [push]

jobs:
  build:
    env:
      gh-token: ${{ secrets.GITHUB_TOKEN }}
      repo-name: ${{ github.REPOSITORY }}
      repo-branch: "gh-pages"
    runs-on: ubuntu-18.04
    steps:
    - uses: actions/checkout@v2
    - name: Environment variables used
      run: |
        echo $gh-token
        echo $repo-name
    - name: Create or clone static content branch
      run: |
        GH_PAGES_EXISTS=$(git ls-remote --heads https://github.com/${repo-name}.git ${repo-branch} | wc -l)
        echo $GH_PAGES_EXISTS